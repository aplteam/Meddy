:Class FormRefNamespace : RefNamespace
⍝ The only public method of this class returns a namespace that is prepared
⍝ to collect all references pointing to a Form and its children created by
⍝ (for example) `StdForm.Create`.\\
⍝ In addition to the methods inherited from `RefNamespace` one more method
⍝ is added: `∆CloseForm`.

    ∇ n←Create displayName
      :Access Public Shared
      n←⎕BASE.Create displayName
      n.⎕FX ⎕CR'∆CloseForm'
    ∇

    ∇ {r}←∆CloseForm
      ⍝ Use this to close a form.
      ⍝ At that moment the form might have already ceased to exist, that's why
      ⍝ we trap value errors.
      ⍝ DON'T CHANGE THIS FNS ON THE FLY:
      ⍝ This is injected via ⎕FX!
      r←⍬
      :Trap 6 ⋄ 2 ⎕NQ ∆Form'Close' ⋄ ∆Form.∆closed←1 ⋄ :EndTrap
    ∇

:EndClass
